"use strict";(self.webpackChunklunch_menu=self.webpackChunklunch_menu||[]).push([[4935],{"./src/stories/organisms/LoginSection.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _Default_parameters,_Default_parameters_docs,_Default_parameters1;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/LoginSection",component:__webpack_require__("./src/components/organisms/LoginSection/LoginSection.tsx").A,parameters:{layout:"fullscreen"}},Default={};Default.parameters={...Default.parameters,docs:{...null===(_Default_parameters=Default.parameters)||void 0===_Default_parameters?void 0:_Default_parameters.docs,source:{originalSource:"{}",...null===(_Default_parameters1=Default.parameters)||void 0===_Default_parameters1||null===(_Default_parameters_docs=_Default_parameters1.docs)||void 0===_Default_parameters_docs?void 0:_Default_parameters_docs.source}}};const __namedExportsOrder=["Default"]},"./src/components/atoms/Button/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),tailwind_merge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");const InputButton=param=>{let{className,...props}=param;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{...props,title:props.title,className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.QP)("cursor-pointer rounded-lg border border-gray-300 px-5 py-2.5 text-sm font-medium text-gray-800 hover:bg-gray-200 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white ".concat(null!=className?className:"")),type:"button",value:props.value})})},__WEBPACK_DEFAULT_EXPORT__=InputButton;InputButton.__docgenInfo={description:"",methods:[],displayName:"InputButton"}},"./src/components/atoms/TextBox/TextBox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_util_cn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/cn.ts");const TextBox=param=>{let{className,variant="text",...props}=param;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{...props,type:variant,className:(0,_util_cn__WEBPACK_IMPORTED_MODULE_1__.cn)("w-full self-center rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-800 outline-none focus:border-gray-300 focus:ring-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:placeholder-gray-400 dark:focus:border-gray-600 dark:focus:ring-gray-600",className)})})},__WEBPACK_DEFAULT_EXPORT__=TextBox;TextBox.__docgenInfo={description:"",methods:[],displayName:"TextBox",props:{variant:{required:!1,tsType:{name:"union",raw:"'text' | 'password'",elements:[{name:"literal",value:"'text'"},{name:"literal",value:"'password'"}]},description:"",defaultValue:{value:"'text'",computed:!1}}},composes:["ComponentPropsWithoutRef"]}},"./src/components/molecules/CreateAdminAccountModal/CreateAdminAccountModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_component_atoms_Button_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/Button/Button.tsx"),_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/TextBox/TextBox.tsx"),_util_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/api.ts"),_util_toast_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/toast-utils.ts"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_toastify__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-toastify/dist/react-toastify.esm.mjs");const CreateAdminAccountModal=param=>{let{toggleModal}=param;const toastId=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(0),username=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(),password=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(),secret=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(),{mutate:createAdminAccount}=_util_api__WEBPACK_IMPORTED_MODULE_3__.F.admin.createAdminAccount.useMutation({onSuccess(){(0,_util_toast_utils__WEBPACK_IMPORTED_MODULE_4__.r)(toastId.current),setTimeout(toggleModal,2e3)},onError(error){(0,_util_toast_utils__WEBPACK_IMPORTED_MODULE_4__.K)(toastId.current,error)},onMutate(){toastId.current=react_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.loading("Updating in progress...")}});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute right-0 top-0 h-full w-full backdrop-blur-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"dark:bg-gray-custom flex max-w-6xl flex-col flex-wrap gap-4 bg-white p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__.A,{placeholder:"Username",onChange:event=>username.current=event.target.value}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__.A,{placeholder:"Password",variant:"password",onChange:event=>password.current=event.target.value}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__.A,{placeholder:"Secret",variant:"password",onChange:event=>secret.current=event.target.value}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_Button_Button__WEBPACK_IMPORTED_MODULE_1__.A,{value:"Generate","aria-label":"Generate",onClick:()=>{username.current&&password.current&&secret.current&&createAdminAccount({username:username.current,password:password.current,secret:secret.current})}})]})})})},__WEBPACK_DEFAULT_EXPORT__=CreateAdminAccountModal;CreateAdminAccountModal.__docgenInfo={description:"",methods:[],displayName:"CreateAdminAccountModal",props:{toggleModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/components/organisms/LoginSection/LoginSection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_component_atoms_Button_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/atoms/Button/Button.tsx"),_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/TextBox/TextBox.tsx"),_component_molecules_CreateAdminAccountModal_CreateAdminAccountModal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/molecules/CreateAdminAccountModal/CreateAdminAccountModal.tsx"),next_auth_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/next-auth/react/index.js"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),usehooks_ts__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/usehooks-ts/dist/index.js");const LoginSection=()=>{const[isGenAdminAccOpen,toggleGenAdminAccOpen]=(0,usehooks_ts__WEBPACK_IMPORTED_MODULE_6__.eY)(),userName=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(""),pass=(0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(""),onSubmit=async()=>{await(0,next_auth_react__WEBPACK_IMPORTED_MODULE_4__.signIn)("credentials",{username:userName.current,password:pass.current,redirect:!0,callbackUrl:"/admin"})};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex h-screen flex-col items-center justify-center gap-1 bg-neutral-100 dark:bg-gray-900",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"dark:bg-gray-custom flex flex-col gap-2 rounded-md bg-white px-7 py-4 shadow",onKeyDown:event=>{"Enter"===event.code&&onSubmit()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__.A,{title:"Username",placeholder:"Username",onChange:e=>userName.current=e.target.value}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_TextBox_TextBox__WEBPACK_IMPORTED_MODULE_2__.A,{title:"Password",placeholder:"Password",variant:"password",onChange:e=>pass.current=e.target.value}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_Button_Button__WEBPACK_IMPORTED_MODULE_1__.A,{value:"Login",onClick:()=>{onSubmit()}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"dark:bg-gray-custom absolute bottom-0 right-0 mb-4 mr-4 bg-white",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_atoms_Button_Button__WEBPACK_IMPORTED_MODULE_1__.A,{value:"Generate admin account",onClick:toggleGenAdminAccOpen})}),isGenAdminAccOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_component_molecules_CreateAdminAccountModal_CreateAdminAccountModal__WEBPACK_IMPORTED_MODULE_3__.A,{toggleModal:toggleGenAdminAccOpen}):null]})},__WEBPACK_DEFAULT_EXPORT__=LoginSection;LoginSection.__docgenInfo={description:"",methods:[],displayName:"LoginSection"}},"./src/utils/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>api});var _trpc_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@trpc/client/dist/index.mjs"),_trpc_next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@trpc/next/dist/index.mjs"),superjson__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/superjson/dist/index.js");__webpack_require__("./node_modules/process/browser.js");const api=(0,_trpc_next__WEBPACK_IMPORTED_MODULE_1__.R)({config:()=>({transformer:superjson__WEBPACK_IMPORTED_MODULE_2__.Ay,links:[(0,_trpc_client__WEBPACK_IMPORTED_MODULE_0__.$H)({enabled:opts=>"down"===opts.direction&&opts.result instanceof Error}),(0,_trpc_client__WEBPACK_IMPORTED_MODULE_0__.fu)({url:"".concat("","/api/trpc")})]}),ssr:!1})},"./src/utils/cn.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs"),clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const cn=function(){for(var _len=arguments.length,inputs=new Array(_len),_key=0;_key<_len;_key++)inputs[_key]=arguments[_key];return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}},"./src/utils/toast-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>toastError,r:()=>toastSuccessful});var react_toastify__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-toastify/dist/react-toastify.esm.mjs");const toastSuccessful=id=>{react_toastify__WEBPACK_IMPORTED_MODULE_0__.oR.update(id,{render:"Success!",type:"success",isLoading:!1,autoClose:5e3})},toastError=(id,error)=>{react_toastify__WEBPACK_IMPORTED_MODULE_0__.oR.update(id,{render:"Error: ".concat(error.message),type:"error",isLoading:!1,autoClose:5e3})}}}]);